\documentclass{beamer}

\usepackage{amsmath}
\usepackage{textcomp}
\usepackage{listings}
\usepackage{lmodern}
\usepackage{hyperref}
\usepackage[T1]{fontenc}
\usepackage{tikz}
\usepackage{anyfontsize}

% For directory trees
\usepackage{dirtree}

\lstset{
    language=[latex]tex,
    breaklines=true}

\usetheme{Madrid}

\setbeamertemplate{caption}{\centering\insertcaption\par}

\def\checkmark{\tikz\fill[scale=0.4](0,.35) -- (.25,0) -- (1,.7) -- (.25,.15) -- cycle;} 

\input{seminar_helpers}

\title[Testing Terminology]{Putting Software Testing Terminology to the Test}
\subtitle{M.A.Sc. Seminar}
\author[Samuel Crawford]{Samuel Crawford, B.Eng.}

% Committee
% \begin{itemize}
%     \item \emph{Supervisor}: Dr.~Jacques Carette
%     \item \emph{Supervisor}: Dr.~Spencer Smith
%     \item Dr.~Ned Nedialkov
%     \item Dr.~Richard Paige
% \end{itemize}

\institute[McMaster University]{McMaster University\\Department of Computing and Software}
\date{Fall 2024}

\AtBeginSection[]
{
  \begin{frame}
    \frametitle{Table of Contents}
    \tableofcontents[currentsection]
  \end{frame}
}

\begin{document}

% From https://tex.stackexchange.com/a/42826/192195
\NewDocumentCommand{\ShowListingForLineNumber}{s O{1.0} m m}{
    \IfBooleanTF{#1}{\vspace{-#2\baselineskip}}{}
    \lstinputlisting[
        style=MyListStyle,
        linerange={#3-#3},
        firstnumber=#3,
    ]{#4}
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% TITLE PAGE
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\frame{\titlepage}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% TABLE OF CONTENTS
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{frame}
    \frametitle{Table of Contents}
    \tableofcontents
\end{frame}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% INTRODUCTION
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Introduction}
\subsection{Drasil}

\begin{frame}
    \frametitle{Drasil}
    \framesubtitle{What is Drasil?}
    My project was originally focused on Drasil, ``a framework for generating
    all of the software artifacts from a stable knowledge base, focusing
    currently on scientific software'' \cite{HuntEtAl2021}
    \vspace{-2mm}
    \begin{columns}[T,onlytextwidth]
        \begin{column}{.6\textwidth}
            \vspace{2mm}
            \begin{minipage}{\textwidth}
                \begin{itemize}
                    \item<2-> I worked on Drasil as an Undergraduate Summer
                          Research Assistant during the summers of 2018 and 2019
                          % \item<2-> Knowledge is introduced either at a global level
                          %     or at an example-specific level
                    \item<3-> ``Recipes'' specify how information from the
                          knowledge based is used to generate
                          software artifacts, including:
                          \begin{itemize}
                              \item SRS (HTML, PDF, Markdown)
                              \item Code (Python, Java, C\#, C++, Swift, Julia)
                              \item READMEs and Makefiles
                              \item Drasil's own website\footnotemark[1]!
                          \end{itemize}
                \end{itemize}
            \end{minipage}
        \end{column}
        \begin{column}{.35\textwidth}
            % \vspace{-4mm}
            \begin{figure}
                \includegraphics[width=.8\textwidth]{assets/images/drasil_logo.png}
                \vspace{-2mm}
                \caption{Drasil's Logo \tiny\cite{Drasil}}
                \label{fig:drasil-logo}
            \end{figure}
        \end{column}
    \end{columns}
    \footnotetext[1]{\tiny \url{https://jacquescarette.github.io/Drasil/}}
\end{frame}

\begin{frame}
    \frametitle{Visualizing Drasil's Traceability}
    \begin{figure}
        \center
        \includegraphics[width=0.8\textwidth]{assets/images/drasil_trace}
        \vspace{-2mm}
        \caption{Knowledge flow from knowledge base to artifacts; by Dr.~Spencer Smith}
        \label{fig:knowledge-flow}
    \end{figure}
\end{frame}

\subsection{Generating Test Cases}

\begin{frame}
    \frametitle{Generating Test Cases}
    \framesubtitle{RIP to GOOT and TestGen}
    \begin{itemize}
        \item My project was originally going to be implementing
              test case generation in Drasil
        \item<2-> The rough workflow:
              \begin{enumerate}
                  \item<2-> Implement manual testing \\
                        Manual unit tests (26 \textcolor{green}{passed},
                        18 \textcolor{orange}{failed with known reason}) \\
                        Manual system tests (3 \textcolor{green}{passed},
                        4 \textcolor{orange}{failed with known reason})
                  \item<3-> Understand the {\only<5->{\color{red}}stable
                                knowledge base} to create new ``recipes''
                  \item<4-> Generate test cases!
              \end{enumerate}
        \item<5-> There was a big assumption in this plan that drastically
              changed my project
    \end{itemize}
\end{frame}

\begin{frame}
    \frametitle{The Need for a Knowledge Base}
    \begin{itemize}
        \item Drasil is built for ``(well understood) research software'' \cite{Drasil}
              based on knowledge of:
              \begin{enumerate}
                  \item<2-> Concepts used by the software,
                  \item<3-> Math used by the software or its derivation, and
                  \item<4-> Information used by Drasil used for generating artifacts
              \end{enumerate}
    \end{itemize}
    \renewcommand*\DTstyle{\ttfamily\tiny}
    \setlength{\DTbaselineskip}{5pt}
    \begin{columns}[T,onlytextwidth]
        \begin{column}<2->{.32\textwidth}
            \dirtree{%
                .1 (drasil-data package\footnotemark[2] part \#1).
                .2 Concepts.
                .3 Thermodynamics.hs.
                .3 Computation.hs.
                .3 Math.hs.
                .3 PhysicalProperties.hs.
                .3 Physics.hs.
                .3 SolidMechanics.hs.
                .2 Constraints.hs.
            }
        \end{column}
        \begin{column}<3->{.32\textwidth}
            \dirtree{%
                .1 (drasil-data package\footnotemark[2] part \#2).
                .2 Equations/Defining.
                .3 Derivations.hs.
                .3 Physics.hs.
                .2 Theories.
                .3 Physics.hs.
                .2 Units.
                .3 PhysicalProperties.hs.
                .3 Physics.hs.
                .3 SolidMechanics.hs.
                .3 Thermodynamics.hs.
                .2 SI\_Units.hs.
            }
        \end{column}
        \begin{column}<4->{.32\textwidth}
            \dirtree{%
                .1 (drasil-data package\footnotemark[2] part \#3).
                .2 Concepts.
                .3 Documentation.hs.
                .3 Education.hs.
                .3 Software.hs.
                .2 Software.
                .3 Products.hs.
                .2 Citations.hs.
                .2 People.hs.
            }
        \end{column}
    \end{columns}
    \footnotetext[2]{\tiny READMEs excluded for brevity; see \url{https://github.com/JacquesCarette/Drasil/tree/main/code/drasil-data/lib/Data/Drasil}}
\end{frame}

\begin{frame}
    \frametitle{The Need for A Knowledge Base (cont.)}
    \begin{itemize}
        \item Before we can generate test cases, we need to ``teach'' Drasil
              how to build them and what information is needed to do so
        \item If knowledge about testing is to be ``well understood'', it needs
              to be documented clearly, consistently, and correctly
        \item<2-> Independently of Drasil, \litStd{}
    \end{itemize}
\end{frame}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% PROJECT
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{frame}
    \frametitle{The Problem with Testing Literature}
    \framesubtitle{Unstandardized Standards}
\end{frame}

\section{Project}
\subsection{Drasil}

% \begin{frame}
%     \frametitle{Drasil}
%     \framesubtitle{"Generate All The Things!"}
%     % TODO: "Generate All The Things!" is a beautifully appropriate tagline for Drasil
%     %       for a few reasons:
%     %                  1. What are "Things"? One may only think of "Things" as far as their knowledge and understanding allows them! You wouldn't be able to think of things without some sort of basis/constructive understanding/methodology to _get_ there, you can't _think of random phenomena_ (that's why they're phenomena).

%     \begin{itemize}
%         \item<2-> An exploration in software-related artifact generation for "well understood" domains \cite{KnowledgeCapture2021} through strong knowledge capture.
%             \begin{itemize}
%                 \item<3-> By unifying knowledge into a single framework with reusable composable units of knowledge, we eliminate code duplication, formally impose traceability and maintainability of knowledge (and software), and allow for easy knowledge transference.
%                 \item<4-> Knowledge organization and capture is of utmost importance, as it is the pathway for interpreters and Domain-Specific Languages (DSLs) to make appropriate usage of the knowledge captured.
%                 \item<5-> By creating different kinds of "printers", we can use a stable knowledge-base to generate software that solves "well understood" problems.
%             \end{itemize}
%         \item<6-> Drasil currently focuses on building research software, generating Software Requirement Specification documents (SRS) in both LaTeX and HTML (with MathJaX), code to solve a problem, README files, Makefiles, graphs, etc.
%     \end{itemize}
% \end{frame}

\begin{frame}
    \frametitle{Problem Statement}
    \begin{itemize}
        \item Currently, there is no way to verify Drasil's output
        \item <2-> Drasil is "tested" by comparing generated
              artifacts to \texttt{stable}
              \begin{columns}[T,onlytextwidth]
                  \begin{column}{.4\textwidth}
                      %   \begin{figure}
                      %       %   \vspace{-1mm}
                      %       \includegraphics[width=.8\textwidth]{assets/stable.png}
                      %       %   \vspace{-3mm}
                      %       \caption{Contents of \texttt{stable}}
                      %       \vspace{-1mm}
                      %   \end{figure}
                  \end{column}
                  \begin{column}{.6\textwidth}
                      %   \lstinputlisting[
                      %       title=An example log,
                      %       captionpos=b,
                      %       language={},
                      %       basicstyle=\tiny, % TODO: reduce font size?
                      %       breakatwhitespace=true,
                      %       showstringspaces=false
                      %   ]{assets/log.txt}
                      \vspace{-2mm}
                  \end{column}
              \end{columns}
        \item <3-> This does not actually say anything about Drasil's output!
    \end{itemize}
\end{frame}

\begin{frame}
    \frametitle{Purpose Statement}
    \begin{itemize}
        \item The purpose of this research is to implement test case generation
              to verify generated code
        \item These test cases will be generated from information within Drasil
        \item<2-> Why use test cases for verification as opposed to, say,
              consistency/correctness checks?
              \begin{enumerate}
                  \item<3-> A more well-defined, Master's level scope
                  \item<4-> Targets a more complex artifact that is harder to verify
                  \item<5-> Gives Drasil another "bragging point"!
              \end{enumerate}
    \end{itemize}
\end{frame}

\subsection{Why Test Generated Code?}

\begin{frame}
    \frametitle{Why Test Generated Code?}
    If the code is being generated from a stable knowledge base,
    then it should be correct. Why waste effort testing it?
    \begin{enumerate}
        \item<2-> The knowledge base is not actually "stable" yet
        \item<3-> There are plenty of places for a mistake to be introduced
              %, both by Drasil's developers and "end users"
        \item<4-> Testing provides a greater degree of confidence in
              Drasil's capabilities
        \item<5-> Generating code for testing allows for it to be done
              "properly" instead of taking shortcuts commonly taken by humans
    \end{enumerate}
\end{frame}

\subsection{Next Steps}

\begin{frame}
    \frametitle{Next Steps}
    2. Understand the manual artifact (and its components) well
    \begin{itemize}
        \item<2-> Understanding the problem domain lets one develop
              a solution that:
              \begin{itemize}
                  \item Makes use of all areas of the domain
                  \item Follows domain standards, including quality and terminology
              \end{itemize}
        \item<3-> There are specific areas of testing that need to be understood:
              \begin{itemize}
                  \item<4-> \textbf{Research Question \#1:}
                        What information is necessary for different types of testing?
                  \item<5-> \textbf{Research Question \#2:}
                        How can test cases be generated from information that currently
                        exists within Drasil?
                  \item<6-> \textbf{Research Question \#3:}
                        How can new information be added to facilitate the generation of
                        more types of testing?
              \end{itemize}
    \end{itemize}
    \onslide<7-|handout:1>\begin{exampleblock}{}
        {\large "The information you have should be just as useful for generating
            tests as it should be for manually running them."}
        \vspace{3mm}
        \hspace\fill{\small--- Dr.~Jacques Carette}
    \end{exampleblock}
\end{frame}

\begin{frame}
    \frametitle{Next Steps}
    3. Generate it!
    \begin{itemize}
        \item<2-> Test cases will then be written for:
              \begin{itemize}
                  \item Other variabilities of Projectile's Python implementation
                  \item Projectile's implementation in other languages
                  \item Other examples where code is generated: GlassBR, NoPCM,
                        DblPendulum, PD Controller \cite{HuntEtAl2021}
              \end{itemize}
        \item<3-> These test cases will also be added to Drasil's CI/CD
              to ensure that future changes preserve the code's functionality
    \end{itemize}
\end{frame}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% ACKNOWLEDGEMENTS
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{frame}
    \frametitle{Acknowledgment}

    \begin{itemize}
        \item Dr.~Smith and Dr.~Carette have been great supervisors in the
              past and have, both then and now, provided me with valuable guidance
              and feedback
              \begin{itemize}
                  \item They have helped me refine the scope of this project
                  \item The project itself was originally posed by Dr.~Smith back
                        in 2020!
              \end{itemize}
        \item<2-> The format of this presentation was \emph{heavily} based on
              a previous presentation by Jason Balaci, who also provided a
              great thesis template
              % \item<2-> Dr.~Smith created the knowledge flow figure shown earlier
        \item<3-> The past and current Drasil team have created a truly amazing
              framework!
    \end{itemize}
\end{frame}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% A FINAL THANK YOU
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{frame}
    \center
    \huge{Thank you!}\\
    \normalsize{Questions?}
\end{frame}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% REFERENCES
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\section{References}

\begin{frame}%[allowframebreaks]
    \frametitle{References}

    \bibliography{references}
    \bibliographystyle{apalike}
\end{frame}

\end{document}
